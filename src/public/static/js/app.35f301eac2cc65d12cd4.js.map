{"version":3,"sources":["webpack:///./src/App.vue?bbea","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/index.js","webpack:///./src/store/modules/movie.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/api/api.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","vue_esm","use","vue_router_esm","router","routes","path","component","e","then","bind","meta","requireAuth","beforeEach","to","from","next","matched","some","record","store_legacy_default","a","get","query","redirect","fullPath","src_router","tags","text","initState","start","count","total","movie","namespaced","state","banners","img","link","tag","list","loading","pageInfo","getters","parseInt","mutations","getMovies","payload","getPageInfo","setLoading","setTag","actions","_ref","_this","commit","asyncToGenerator_default","regenerator_default","mark","_callee","res","_res$data","subjects","wrap","_context","prev","api","sent","data","t0","Object","mint_ui_common","message","msg","position","duration","stop","loadMore","_ref2","_this2","_callee2","_res$data2","_context2","length","concat","vuex_esm","store","Store","modules","config","productionTip","el","components","App","template","host","__webpack_exports__","getMovieTop250","__WEBPACK_IMPORTED_MODULE_0_axios___default","getMovieDetail","movieId","searchMusic"],"mappings":"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","file":"static/js/app.35f301eac2cc65d12cd4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14c297d9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14c297d9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from 'vue'\nimport Router from 'vue-router'\nimport store from 'store'\n\n// 首页\nconst Welcome = () => import('../views/welcome/welcome')\n\n// 登录\nconst Login = () => import('../views/login/login')\n\n// 个人中心\nconst Account = () => import('../views/account/account')\n\n// 电影\nconst Movies = () => import('../views/movies/movies')\n\n// 音乐\nconst Musics = () => import('../views/musics/musics')\n\n// 书籍\nconst Books = () => import('../views/books/books')\n\n// 电影详情\nconst MovieDetail = () => import('../views/movie/movie')\n\n// 404\nconst Lost = () => import('../views/lost/lost')\n\nVue.use(Router)\n\nconst router = new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Welcome',\n      component: Welcome\n    },\n    {\n      path: '/movies',\n      name: 'Movies',\n      component: Movies\n    },\n    {\n      path: '/movie/:movieId',\n      name: 'MovieDetail',\n      component: MovieDetail\n    },\n    {\n      path: '/musics',\n      name: 'Musics',\n      component: Musics\n    },\n    {\n      path: '/books',\n      name: 'Books',\n      component: Books\n    },\n    {\n      path: '/account',\n      name: 'Account',\n      component: Account,\n      meta: { requireAuth: true }\n    },\n    {\n      path: '/login',\n      name: 'Login',\n      component: Login\n    },\n    {\n      path: '*',\n      name: 'Lost',\n      component: Lost\n    }\n  ]\n})\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requireAuth)) {\n    // 这个路由需要登录认证\n    if (!store.get('userInfo')) {\n      next({\n        path: '/login',\n        query: { redirect: to.fullPath }\n      })\n    } else {\n      next()\n    }\n  } else {\n    next() // 确保一定要调用 next()\n  }\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import api from '../../api/api'\nimport { Toast } from 'mint-ui'\n\n// 电影标签\nconst tags = [\n  {text: '正在热映', id: 'in_theaters'},\n  {text: '即将上映', id: 'coming_soon'},\n  {text: 'top250', id: 'top250'},\n  {text: '口碑榜单', id: 'weekly'},\n  {text: '北美票房榜', id: 'us_box'},\n  {text: '新片榜单', id: 'new_movies'}\n]\n\n// 电影banner\nconst banners = [{\n  img: 'https://mall.s.maizuo.com/0690e3551f92b8b1dcdf9be0dc3b9b69.jpg?x-oss-process=image/quality,Q_70',\n  link: ''\n}, {\n  img: 'https://mall.s.maizuo.com/2653a4597c3a11e74fe858185917fb1e.jpg?x-oss-process=image/quality,Q_70',\n  link: ''\n}]\n\nconst initState = {\n  pageInfo: {\n    start: 0,\n    count: 10,\n    total: 0\n  }\n}\n\nconst state = {\n  banners,\n  tags,\n  tag: tags[0],\n  list: [],\n  loading: false,\n  pageInfo: {\n    start: 0,\n    count: 10,\n    total: 0\n  }\n}\n\nconst mutations = {\n  getMovies (state, payload) {\n    state.list = payload\n  },\n  getPageInfo (state, payload) {\n    state.pageInfo = payload\n  },\n  setLoading (state, payload) {\n    state.loading = payload\n  },\n  setTag (state, payload) {\n    state.tag = payload\n  }\n}\n\nconst getters = {\n  pageInfo (state) {\n    return {\n      start: parseInt(state.pageInfo.start),\n      count: parseInt(state.pageInfo.count),\n      total: parseInt(state.pageInfo.total)\n    }\n  }\n}\n\nconst actions = {\n  async getMovies ({commit, state}) {\n    try {\n      commit('getPageInfo', initState.pageInfo)\n      commit('getMovies', [])\n      commit('setLoading', true)\n      let res = await api.getMovies(state.tag.id, state.pageInfo.start, state.pageInfo.count)\n      const {count, start, subjects, total} = res.data\n      commit('getMovies', subjects)\n      commit('getPageInfo', {count, start, total})\n      commit('setLoading', false)\n    } catch (e) {\n      Toast({\n        message: e.msg,\n        position: 'bottom',\n        duration: 5000\n      })\n    }\n  },\n  async loadMore ({commit, state}) {\n    commit('setLoading', true)\n    let res = await api.getMovies(state.tag.id, state.list.length, state.pageInfo.count)\n    const {count, start, subjects, total} = res.data\n    commit('getMovies', state.list.concat(subjects))\n    commit('getPageInfo', {count, start, total})\n    commit('setLoading', false)\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/movie.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport movie from './modules/movie'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n\n  },\n  mutations: {\n\n  },\n  getters: {\n\n  },\n  actions: {\n\n  },\n  modules: {\n    movie\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store/index'\nimport './assets/css/common.scss'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import axios from 'axios'\n// const host = process.env.NODE_ENV === 'production' ? 'https://api.douban.com/' : '/host'\n\nconst host = '//book.airtlab.com/'\n\n/**\n * zhuanzhuan: https://m.zhuanzhuan.58.com/youpin/website/list.html?smark=ws11\n * xiaomi: https://m.mi.com\n * sudanyouxuan: https://m.sdyxmall.com/v1/?co=sdyx#/\n */\n\n/**\n * 豆瓣电影 api\n * https://developers.douban.com/wiki/?title=movie_v2#subject\n */\n\nexport default {\n  // 电影 top250\n  getMovieTop250 (start, count) {\n    return axios.get(`${host}movie/top250?start=${start}&count=${count}`)\n  },\n  getMovies (tag, start, count) {\n    return axios.get(`${host}movie/${tag}?start=${start}&count=${count}`)\n  },\n  // 电影详情\n  getMovieDetail (movieId) {\n    return axios.get(`${host}movie/subject/${movieId}`)\n  },\n  // 音乐搜索\n  searchMusic (tag) {\n    return axios.get(`${host}music/search?tag=${tag}`)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/api.js"],"sourceRoot":""}
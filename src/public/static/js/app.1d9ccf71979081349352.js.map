{"version":3,"sources":["webpack:///./src/App.vue?8d5a","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/index.js","webpack:///./src/store/modules/movie.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/api/api.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","name","staticRenderFns","src_App","__webpack_require__","normalizeComponent","data","animation","watch","$route","to","from","toDepth","path","split","length","fromDepth","ssrContext","vue_esm","use","vue_router_esm","router","mode","routes","component","e","then","bind","meta","title","requireAuth","beforeEach","next","document","matched","some","record","store_legacy_default","a","get","query","redirect","fullPath","src_router","tags","text","initState","start","count","total","movie","namespaced","state","banners","img","link","tag","list","loading","pageInfo","getters","parseInt","mutations","getMovies","payload","getPageInfo","setLoading","setTag","actions","_ref","_this","commit","asyncToGenerator_default","regenerator_default","mark","_callee","res","_res$data","subjects","wrap","_context","prev","api","sent","t0","Object","mint_ui_common","message","msg","position","duration","stop","loadMore","_ref2","_this2","_callee2","_res$data2","_context2","concat","vuex_esm","store","Store","modules","config","productionTip","el","components","App","template","host","__webpack_exports__","getMovieTop250","__WEBPACK_IMPORTED_MODULE_0_axios___default","getMovieDetail","movieId","searchMusic"],"mappings":"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","file":"static/js/app.1d9ccf71979081349352.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-250b3842\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-250b3842\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-250b3842\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <transition name=\"fade\">\r\n      <router-view/>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App',\r\n  data () {\r\n    return {\r\n      animation: 'slide-left'\r\n    }\r\n  },\r\n  watch: {\r\n    '$route' (to, from) {\r\n      const toDepth = to.path.split('/').length\r\n      const fromDepth = from.path.split('/').length\r\n      this.animation = toDepth < fromDepth ? 'slide-right' : 'slide-left'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.fade-enter-active, .fade-leave-active {\r\n  transition: all .4s ease;\r\n}\r\n.fade-enter, .fade-leave-active {\r\n  opacity: 0;\r\n  transform: translateY(20px);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from 'vue'\nimport Router from 'vue-router'\nimport store from 'store'\n\n// 首页\nconst Welcome = () => import('../views/welcome/welcome')\n\n// 登录\nconst Login = () => import('../views/login/login')\n\n// 个人中心\nconst Account = () => import('../views/account/account')\n\n// 电影\nconst Movies = () => import('../views/movies/movies')\n\n// 音乐\nconst Musics = () => import('../views/musics/musics')\n\n// 书籍\nconst Books = () => import('../views/books/books')\n\n// 电影详情\nconst MovieDetail = () => import('../views/movie/movie')\n\n// 404\nconst Lost = () => import('../views/lost/lost')\n\nVue.use(Router)\n\nconst router = new Router({\n  mode: 'history',\n  routes: [\n    {\n      path: '/',\n      name: 'Welcome',\n      component: Welcome\n    },\n    {\n      path: '/movies',\n      name: 'Movies',\n      component: Movies,\n      meta: {\n        title: '电影列表'\n      }\n    },\n    {\n      path: '/movie/:movieId',\n      name: 'MovieDetail',\n      component: MovieDetail,\n      meta: {\n        title: '电影详情'\n      }\n    },\n    {\n      path: '/musics',\n      name: 'Musics',\n      component: Musics\n    },\n    {\n      path: '/books',\n      name: 'Books',\n      component: Books\n    },\n    {\n      path: '/account',\n      name: 'Account',\n      component: Account,\n      meta: { requireAuth: true }\n    },\n    {\n      path: '/login',\n      name: 'Login',\n      component: Login\n    },\n    {\n      path: '*',\n      name: 'Lost',\n      component: Lost\n    }\n  ]\n})\n\nrouter.beforeEach((to, from, next) => {\n  // 每个路由设置title\n  if (to.meta.title) {\n    document.title = to.meta.title\n  }\n  // 这个路由需要登录认证\n  if (to.matched.some(record => record.meta.requireAuth)) {\n    if (!store.get('userInfo')) {\n      next({path: '/login', query: { redirect: to.fullPath }})\n    } else {\n      next()\n    }\n  } else {\n    next()\n  }\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import api from '../../api/api'\r\nimport { Toast } from 'mint-ui'\r\n\r\n// 电影标签\r\nconst tags = [\r\n  {text: '正在热映', id: 'in_theaters'},\r\n  {text: '即将上映', id: 'coming_soon'},\r\n  {text: 'top250', id: 'top250'},\r\n  {text: '口碑榜单', id: 'weekly'},\r\n  {text: '北美票房榜', id: 'us_box'},\r\n  {text: '新片榜单', id: 'new_movies'}\r\n]\r\n\r\n// 电影banner\r\nconst banners = [{\r\n  img: 'https://mall.s.maizuo.com/0690e3551f92b8b1dcdf9be0dc3b9b69.jpg?x-oss-process=image/quality,Q_70',\r\n  link: ''\r\n}, {\r\n  img: 'https://mall.s.maizuo.com/2653a4597c3a11e74fe858185917fb1e.jpg?x-oss-process=image/quality,Q_70',\r\n  link: ''\r\n}]\r\n\r\nconst initState = {\r\n  pageInfo: {\r\n    start: 0,\r\n    count: 10,\r\n    total: 0\r\n  }\r\n}\r\n\r\nconst state = {\r\n  banners,\r\n  tags,\r\n  tag: tags[0],\r\n  list: [],\r\n  loading: false,\r\n  pageInfo: {\r\n    start: 0,\r\n    count: 10,\r\n    total: 0\r\n  }\r\n}\r\n\r\nconst mutations = {\r\n  getMovies (state, payload) {\r\n    state.list = payload\r\n  },\r\n  getPageInfo (state, payload) {\r\n    state.pageInfo = payload\r\n  },\r\n  setLoading (state, payload) {\r\n    state.loading = payload\r\n  },\r\n  setTag (state, payload) {\r\n    state.tag = payload\r\n  }\r\n}\r\n\r\nconst getters = {\r\n  pageInfo (state) {\r\n    return {\r\n      start: parseInt(state.pageInfo.start),\r\n      count: parseInt(state.pageInfo.count),\r\n      total: parseInt(state.pageInfo.total)\r\n    }\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  async getMovies ({commit, state}) {\r\n    try {\r\n      commit('getPageInfo', initState.pageInfo)\r\n      commit('getMovies', [])\r\n      commit('setLoading', true)\r\n      let res = await api.getMovies(state.tag.id, state.pageInfo.start, state.pageInfo.count)\r\n      const {count, start, subjects, total} = res.data\r\n      commit('getMovies', subjects)\r\n      commit('getPageInfo', {count, start, total})\r\n      commit('setLoading', false)\r\n    } catch (e) {\r\n      Toast({\r\n        message: e.msg,\r\n        position: 'bottom',\r\n        duration: 5000\r\n      })\r\n    }\r\n  },\r\n  async loadMore ({commit, state}) {\r\n    commit('setLoading', true)\r\n    let res = await api.getMovies(state.tag.id, state.list.length, state.pageInfo.count)\r\n    const {count, start, subjects, total} = res.data\r\n    commit('getMovies', state.list.concat(subjects))\r\n    commit('getPageInfo', {count, start, total})\r\n    commit('setLoading', false)\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/movie.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nimport movie from './modules/movie'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n\r\n  },\r\n  mutations: {\r\n\r\n  },\r\n  getters: {\r\n\r\n  },\r\n  actions: {\r\n\r\n  },\r\n  modules: {\r\n    movie\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport store from './store/index'\r\nimport './assets/css/common.scss'\r\n\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import axios from 'axios'\r\n// const host = process.env.NODE_ENV === 'production' ? 'https://api.douban.com/' : '/host'\r\n\r\nconst host = '//book.airtlab.com/'\r\n\r\n/**\r\n * zhuanzhuan: https://m.zhuanzhuan.58.com/youpin/website/list.html?smark=ws11\r\n * xiaomi: https://m.mi.com\r\n * sudanyouxuan: https://m.sdyxmall.com/v1/?co=sdyx#/\r\n */\r\n\r\n/**\r\n * 豆瓣电影 api\r\n * https://developers.douban.com/wiki/?title=movie_v2#subject\r\n */\r\n\r\nexport default {\r\n  // 电影 top250\r\n  getMovieTop250 (start, count) {\r\n    return axios.get(`${host}movie/top250?start=${start}&count=${count}`)\r\n  },\r\n  getMovies (tag, start, count) {\r\n    return axios.get(`${host}movie/${tag}?start=${start}&count=${count}`)\r\n  },\r\n  // 电影详情\r\n  getMovieDetail (movieId) {\r\n    return axios.get(`${host}movie/subject/${movieId}`)\r\n  },\r\n  // 音乐搜索\r\n  searchMusic (tag) {\r\n    return axios.get(`${host}music/search?tag=${tag}`)\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/api.js"],"sourceRoot":""}
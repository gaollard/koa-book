webpackJsonp([9],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},i=n("VU/8")({name:"App"},a,!1,null,null,null).exports,s=n("/ocq"),r=n("Y4FN"),u=n.n(r);o.default.use(s.a);var c=new s.a({routes:[{path:"/",name:"Welcome",component:function(){return n.e(7).then(n.bind(null,"hSyW"))}},{path:"/movies",name:"Movies",component:function(){return n.e(0).then(n.bind(null,"zDuH"))}},{path:"/movie/:movieId",name:"MovieDetail",component:function(){return n.e(2).then(n.bind(null,"8Gl7"))}},{path:"/musics",name:"Musics",component:function(){return n.e(1).then(n.bind(null,"4uOb"))}},{path:"/books",name:"Books",component:function(){return n.e(5).then(n.bind(null,"WaLu"))}},{path:"/account",name:"Account",component:function(){return n.e(3).then(n.bind(null,"B64m"))},meta:{requireAuth:!0}},{path:"/login",name:"Login",component:function(){return n.e(4).then(n.bind(null,"W2Q3"))}},{path:"*",name:"Lost",component:function(){return n.e(6).then(n.bind(null,"8t/u"))}}]});c.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.requireAuth})?u.a.get("userInfo")?n():n({path:"/login",query:{redirect:t.fullPath}}):n()});var l=c,p=n("NYxO"),g=n("Xxa5"),m=n.n(g),f=n("exGp"),d=n.n(f),v=n("P9l9"),h=n("Au9i"),b=[{text:"正在热映",id:"in_theaters"},{text:"即将上映",id:"coming_soon"},{text:"top250",id:"top250"},{text:"口碑榜单",id:"weekly"},{text:"北美票房榜",id:"us_box"},{text:"新片榜单",id:"new_movies"}],x={start:0,count:10,total:0},I={namespaced:!0,state:{banners:[{img:"https://mall.s.maizuo.com/0690e3551f92b8b1dcdf9be0dc3b9b69.jpg?x-oss-process=image/quality,Q_70",link:""},{img:"https://mall.s.maizuo.com/2653a4597c3a11e74fe858185917fb1e.jpg?x-oss-process=image/quality,Q_70",link:""}],tags:b,tag:b[0],list:[],loading:!1,pageInfo:{start:0,count:10,total:0}},getters:{pageInfo:function(t){return{start:parseInt(t.pageInfo.start),count:parseInt(t.pageInfo.count),total:parseInt(t.pageInfo.total)}}},mutations:{getMovies:function(t,e){t.list=e},getPageInfo:function(t,e){t.pageInfo=e},setLoading:function(t,e){t.loading=e},setTag:function(t,e){t.tag=e}},actions:{getMovies:function(t){var e=this,n=t.commit,o=t.state;return d()(m.a.mark(function t(){var a,i,s,r,u,c;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n("getPageInfo",x),n("getMovies",[]),n("setLoading",!0),t.next=6,v.a.getMovies(o.tag.id,o.pageInfo.start,o.pageInfo.count);case 6:a=t.sent,i=a.data,s=i.count,r=i.start,u=i.subjects,c=i.total,n("getMovies",u),n("getPageInfo",{count:s,start:r,total:c}),n("setLoading",!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),Object(h.Toast)({message:t.t0.msg,position:"bottom",duration:5e3});case 16:case"end":return t.stop()}},t,e,[[0,13]])}))()},loadMore:function(t){var e=this,n=t.commit,o=t.state;return d()(m.a.mark(function t(){var a,i,s,r,u,c;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("setLoading",!0),t.next=3,v.a.getMovies(o.tag.id,o.list.length,o.pageInfo.count);case 3:a=t.sent,i=a.data,s=i.count,r=i.start,u=i.subjects,c=i.total,n("getMovies",o.list.concat(u)),n("getPageInfo",{count:s,start:r,total:c}),n("setLoading",!1);case 8:case"end":return t.stop()}},t,e)}))()}}};o.default.use(p.a);var M=new p.a.Store({state:{},mutations:{},getters:{},actions:{},modules:{movie:I}});n("ksBL");o.default.config.productionTip=!1,new o.default({el:"#app",router:l,store:M,components:{App:i},template:"<App/>"})},P9l9:function(t,e,n){"use strict";var o=n("mtWM"),a=n.n(o),i="//book.airtlab.com/";e.a={getMovieTop250:function(t,e){return a.a.get(i+"movie/top250?start="+t+"&count="+e)},getMovies:function(t,e,n){return a.a.get(i+"movie/"+t+"?start="+e+"&count="+n)},getMovieDetail:function(t){return a.a.get(i+"movie/subject/"+t)},searchMusic:function(t){return a.a.get(i+"music/search?tag="+t)}}},ksBL:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.35f301eac2cc65d12cd4.js.map